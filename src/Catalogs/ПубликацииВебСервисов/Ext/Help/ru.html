<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"></meta><link rel="stylesheet" type="text/css" href="v8help://service_book/service_style"></link><meta name="GENERATOR" content="MSHTML 11.00.9600.17690"></meta></head><body>
<p><strong>Публикация интернет-сервса списков информационных баз</strong></p>
<p>Логика публикации интернет-сервиса основана на методике, описанной в документации ИТС, поэтому настоятельно рекомендуется ознакомиться с ней до реализации публикации в системе. Основной сложностью является настйрока авторизации при обращении к веб-сервису. Вариантов настройки теоретически существует несколько, ниже будет рассмотрен один из них.<br></p>
<p>Для публикации интернет-сервиса списков информационных баз необходимо добавить в систему пользователя с ролью "Полные права" и технологического пользователя "Бухгалтер" с авторизацией платформы и ролью "Доступ к спискам информационных баз", которому будут назначаться списки информационных баз. Удобней, если заведенный пользователь должен определяет функциональную группу (базы бухгалтерии, базы зарплаты, базы торговли), а не персонифицированный доступ.</p>
<p>Публикуем веб-сервис WebCommonInfoBases из системы. NTLM-аутентификация при обращении к сервсу не будет работать (вне зависимости от параметров публикации мне этого добиться не удалось), поэтому в свойствах публикации необходимо либо явно указать пользователя/пароль платформы, либо не указывать их, но тогда при каждом обновлении списка баз, запускаясь через 1cestart, придется проходить авторизацию вручную.</p>
<p>Допустим полная ссылка публикации имеет вид <span style="COLOR: rgb(51,102,255)" data-mce-style="color: #3366ff;">http://[serverName]/[serviceName]/ws/WebCommonInfoBases.1cws?wsdl</span> , тогда создаем в справочнике "Публикации сервисов" новый элемент с произволным наименованием и полной ссылкой публикации.</p>
<p>В разделе "Управление информационными базами" создаем списки информационных баз в соответсвующем справочнике. Для публикации в списках доступны все информационные базы, внесенные в систему. Настройка свойств в составе списка подобна настройке свойств информационых баз через стартер платформы 1С.</p>
<p>Далее настраиваем доступы к спискам информационных баз (справочник "Доступы к спискам информационных баз" в разделе "Управление информационными базами"): для заведенного ранее пользователя с правами "Доступ к спискам информационных баз" назначаем доступные для отображения списки баз. Так же обязательно указываем элемент из справочника "Публикация сервисов", чтобы указать откуда текущий пользователь будет получать данные списка баз.</p>
<p>Последнее - это добавить с настройки списка баз стартера 1cestart ссылку на веб-сервис в виде <span style="COLOR: rgb(51,102,255)" data-mce-style="color: #3366ff;">http://[serverName]/[serviceName]/ws/</span></p></body></html>