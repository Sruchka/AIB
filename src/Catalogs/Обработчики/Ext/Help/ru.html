<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"></meta><link rel="stylesheet" type="text/css" href="v8help://service_book/service_style"></link><meta name="GENERATOR" content="MSHTML 11.00.9600.17280"></meta></head><body>
<p style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); FONT: 14px/21px Verdana, Arial, Helvetica, sans-serif; MARGIN: 0px 0px 10px; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><strong style="BOX-SIZING: border-box; FONT-WEIGHT: bold">Справочник "Обработчики"</strong></p>
<p style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); FONT: 14px/21px Verdana, Arial, Helvetica, sans-serif; MARGIN: 0px 0px 10px; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><img title="Обработчики" style="BOX-SIZING: border-box; MAX-WIDTH: 100%; BORDER-TOP: 0px; HEIGHT: auto; BORDER-RIGHT: 0px; VERTICAL-ALIGN: middle; BORDER-BOTTOM: 0px; BORDER-LEFT: 0px" alt="Обработчики" src="http://infostart.ru/upload/iblock/ca1/%D0%9E%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B8.png" width="1312" height="676"></img></p>
<p style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); FONT: 14px/21px Verdana, Arial, Helvetica, sans-serif; MARGIN: 0px 0px 10px; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Содержит перечень доступных обработчиков - код на языке платформы, выполняемый после пакетной загрузки обновления конфигурации. С помощью обработчика можно программно выполнить обновление данных ИБ. В систему загружены предустановленные обработчики, но допускается создавать и использовать произвольные.<span class="Apple-converted-space"> </span><strong style="BOX-SIZING: border-box; FONT-WEIGHT: bold">Если в карточке ИБ явно установлен обработчик, то он будет вызываться всегда</strong>. Различные виды конфигураций могут требовать использования различных обработчиков, и в тоже время различные виды конфигураций могт использовать один обработчик (н-ер: для БП 2.0 и ЗУП 2.5 подходит один обработчик).</p>
<p style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); FONT: 14px/21px Verdana, Arial, Helvetica, sans-serif; MARGIN: 0px 0px 10px; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Для обработчика может быть определен контекст исполнения. В качестве контекста исполнения кода обработчика может быть задано текущее COM-подключение к информационной базе (используется по умолчанию), либо "сама" информационная база. Следующий пример наглядно демонстрирует различие кода обработчика для различного контекста исполнения:</p>
<p style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); FONT: 14px/21px Verdana, Arial, Helvetica, sans-serif; MARGIN: 0px 0px 10px; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">код обработчика для контекста COM-подключения: <b style="BOX-SIZING: border-box; FONT-WEIGHT: bold">ИнформационнаяБаза_ОбъектПодключения.Справочник.Организации.Выбрать();</b></p>
<p style="BOX-SIZING: border-box; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(51,51,51); FONT: 14px/21px Verdana, Arial, Helvetica, sans-serif; MARGIN: 0px 0px 10px; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">код обработчика для контекста информационной базы: <b style="BOX-SIZING: border-box; FONT-WEIGHT: bold"><b style="BOX-SIZING: border-box; FONT-WEIGHT: bold">Справочник.Организации.Выбрать();</b></b></p>
<p><strong></strong> </p>
<p><strong>Код обработчика</strong> - программный код на встроенном языке платформы, который вызывается  при попытке запуска процедуры обновления данных Информационной Базы (ИБ) после обновления конфигурации. Различные версии типовых конфигураций могут использовать общий обработчик, н-ер: БП 2.0 и ЗУП 2.5.</p>
<p><strong>Контекст обработчика</strong> определяет инициатора и окржение исполнения кода:</p>
<p><strong>Контекст внешнего подключения</strong> - режим выполнения обработчика, когда запуск кода на исполнение выполняется от лица текущей сессии "Администрирование информационных баз". В данном режиме при создании произвольного обработчика для доступа к текущему COM-объекту подключения к информационной базе используется объект <strong>ИнформационнаяБаза_ОбъектПодключения</strong>. Доступ к соответствющим методам и объектам осуществляется только через объект <strong>ИнформационнаяБаза_ОбъектПодключения</strong>, например<strong>: </strong>ИнформационнаяБаза_ОбъектПодключения.Справочник.Организации.Выбрать();</p>
<p><strong>Контекст информационной базы </strong>- режим выполнения обработчика, когда запуск кода на исполнение выполняется от лица текущей сессии целевой ИБ. Другими словами код запускается внутри самого COM подключения, как если бы он был запущен пользователем этой ИБ. Доступ к соответствющим методам и объектам осуществляется напрямую, например: Справочник.Организации.Выбрать();</p>
<p>Реализация кода обработчика должна возвращать результат <strong>ИСТИНА</strong> в переменную <strong>Результат</strong>, в противном случае исполнение кода интерпретируется как ошибка.</p>
<p>Текстовое описание содержимого ошибок при выполнении обработчика можно передавать в переменную <strong>ОписаниеОшибки</strong>. Сведения об ошибке будут отображаться если значение переменной <strong>Результат</strong> не равно <strong>ИСТИНА</strong>.</p>
<p> </p></body></html>