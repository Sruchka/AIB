Результат = Ложь;
ОбрабатываемыйПользователь = "";
Попытка
	ПользователиИБ = ИнформационнаяБаза_ОбъектПодключения.ПользователиИнформационнойБазы;	
	МассивПользователей = ПользователиИБ.ПолучитьПользователей();		
	Для Каждого ТекущийПользовательИБ Из МассивПользователей Цикл
		
		//Если НЕ (ТекущийПользовательИБ.АутентификацияOpenID ИЛИ ТекущийПользовательИБ.АутентификацияОС ИЛИ ТекущийПользовательИБ.АутентификацияСтандартная) Тогда
		//	Продолжить;
		//КонецЕсли;
	
		ОбрабатываемыйПользователь = ТекущийПользовательИБ.Имя;		
		
		ПользовательОбъект = ИнформационнаяБаза_ОбъектПодключения.Справочники.Пользователи.НайтиПоРеквизиту("ИдентификаторПользователяИБ", ТекущийПользовательИБ.УникальныйИдентификатор);
		
		Если ПользовательОбъект = ИнформационнаяБаза_ОбъектПодключения.Справочники.Пользователи.ПустаяСсылка() ИЛИ ПользовательОбъект = Неопределено Тогда
			ПользовательОбъект = ИнформационнаяБаза_ОбъектПодключения.Справочники.Пользователи.НайтиПоНаименованию(ТекущийПользовательИБ.ПолноеИмя);
		КонецЕсли;
		
		Если ПользовательОбъект = ИнформационнаяБаза_ОбъектПодключения.Справочники.Пользователи.ПустаяСсылка() Тогда
		
			ОписаниеПользователяИБ = ИнформационнаяБаза_ОбъектПодключения.Пользователи.НовоеОписаниеПользователяИБ();	
			ОписаниеПользователяИБ.Вставить("Действие", "Записать");
			ОписаниеПользователяИБ.Вставить("ВходВПрограммуРазрешен", (ТекущийПользовательИБ.АутентификацияOpenID ИЛИ ТекущийПользовательИБ.АутентификацияОС ИЛИ ТекущийПользовательИБ.АутентификацияСтандартная));
			ИнформационнаяБаза_ОбъектПодключения.Пользователи.СкопироватьСвойстваПользователяИБ(ОписаниеПользователяИБ, ТекущийПользовательИБ);
			
			ПользовательОбъект = ИнформационнаяБаза_ОбъектПодключения.Справочники.Пользователи.СоздатьЭлемент();
			ПользовательОбъект.Наименование = ТекущийПользовательИБ.ПолноеИмя;			
			
			ПользовательОбъект.ДополнительныеСвойства.Вставить("ОписаниеПользователяИБ", ОписаниеПользователяИБ);
			
			ПользовательОбъект.Записать();
			
		Иначе 
		
			ПользовательОбъект = ПользовательОбъект.ПолучитьОбъект();
			ПользовательОбъект.Наименование = ТекущийПользовательИБ.ПолноеИмя;
			ПользовательОбъект.ИдентификаторПользователяИБ = ТекущийПользовательИБ.УникальныйИдентификатор;
			
			ОписаниеПользователяИБ = Неопределено;
			ПользовательОбъект.ДополнительныеСвойства.Свойство("ОписаниеПользователяИБ", ОписаниеПользователяИБ);
			Если ОписаниеПользователяИБ = Неопределено Тогда
				
				ОписаниеПользователяИБ = ИнформационнаяБаза_ОбъектПодключения.Пользователи.НовоеОписаниеПользователяИБ();	
				ОписаниеПользователяИБ.Вставить("Действие", "Записать");
				ОписаниеПользователяИБ.Вставить("ВходВПрограммуРазрешен", (ТекущийПользовательИБ.АутентификацияOpenID ИЛИ ТекущийПользовательИБ.АутентификацияОС ИЛИ ТекущийПользовательИБ.АутентификацияСтандартная));
				ИнформационнаяБаза_ОбъектПодключения.Пользователи.СкопироватьСвойстваПользователяИБ(ОписаниеПользователяИБ, ТекущийПользовательИБ);
				
				ПользовательОбъект.ДополнительныеСвойства.Вставить("ОписаниеПользователяИБ", ОписаниеПользователяИБ);
			
			Иначе	
			
				ИнформационнаяБаза_ОбъектПодключения.Пользователи.СкопироватьСвойстваПользователяИБ(ПользовательОбъект, ТекущийПользовательИБ);
				
			КонецЕсли;						
			
			ПользовательОбъект.Записать();
			
		КонецЕсли;
				
	КонецЦикла;	
	Результат = Истина;
Исключение
	ОписаниеОшибки = "" + ОбрабатываемыйПользователь + ": " + ОписаниеОшибки();	
КонецПопытки;